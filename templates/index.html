<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WebApp â€” verify initData</title>
  <style>
    body { font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif; background:#0f172a; color:#e6eef6; padding:20px; display:flex; flex-direction:column; align-items:center; }
    .app-title { font-size: 1.5em; margin-bottom: 10px; }
    .room-info { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; width: 100%; max-width: 300px; text-align: center; }
    .live-btn { background: #4a90e2; color: white; padding: 5px 15px; border-radius: 15px; margin-left: 10px; }
    .listener-count { color: #4a90e2; }
    .profile { display: flex; align-items: center; margin-bottom: 20px; }
    .avatar { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 10px; }
    .username { font-weight: bold; }
    pre { background:#0b1220; padding:12px; border-radius:8px; width: 100%; max-width: 300px; }
  </style>
</head>
<body>
  <h2 class="app-title">MiniMusic ðŸŽµ</h2>
  <div id="status">initializing...</div>
  <div id="room-info" class="room-info" style="display:none;">
    <span id="room-id"></span> <span class="live-btn">LIVE</span> <span class="listener-count" id="listener-count">0 listener</span>
  </div>
  <div id="profile" class="profile" style="display:none;">
    <img id="avatar" class="avatar" src="/static/default-avatar.png" alt="avatar" />
    <span id="username" class="username"></span>
  </div>
  <pre id="out">waiting...</pre>
  <script src="https://telegram.org/js/telegram-web-app.js"></script> <!-- Required for Telegram.WebApp -->
  <script src="/static/script.js"></script>
</body>
</html>
